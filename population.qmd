# Population  

The values calculated below are based on 2020 US Census data. The population estimate for the entire state of Mississippi was ~2.96 million in 2020.  

```{r}
library(terra)
library(msepBoundaries)
library(sf)
in_file <- here::here("data",
                       "processed",
                       "Population_Dasymetric_2020.tif")
```

```{r}
pop2020 <- rast(in_file)
```

```{r}
# get state and MS Sound boundaries
# and put them into the same CRS as the population file

# entire watershed
msep_bound <- outline_full |> 
    st_transform(crs = st_crs(pop2020))

# watershed only inside MS
msep_ms <- outline_ms_full |> 
    st_transform(crs = st_crs(pop2020))
```

```{r}
# do the cropping/masking
# entire watershed
pop_watershed <- mask(pop2020, msep_bound,
                      progress = FALSE)
# watershed within MS
pop_msep_msonly <- mask(pop2020, msep_ms,
                        progress = FALSE)
```


## Entire watershed  

This estimate includes the portions of the watershed in Louisiana and Alabama:    

::: {.summary-numberA}
**`r prettyNum(sum(values(pop_watershed), na.rm = TRUE), big.mark = ",")`**
:::


## Watershed in the state of MS  

This estimate includes the state of Mississippi only:    

::: {.summary-numberA}
**`r prettyNum(sum(values(pop_msep_msonly), na.rm = TRUE), big.mark = ",")`**
:::



## Data Sources  

**The `.qmd` file** that generated this section was: **`r xfun::with_ext(knitr::current_input(), "qmd")`**.  

#### Dasymetric Population Estimates  

The [EPA EnviroAtlas's](https://www.epa.gov/enviroatlas/data-download) dasymetric population datasets "intelligently reallocate ... population from census blocks to 30 meter pixels based on land cover and slope". The national datasets for 2010 and 2020 were downloaded as raster files on 24 July 2025. Only the 2020 dataset has been used here.

The original downloaded file (zipped; ~3.6 GB) is available in the [Population](https://drive.google.com/drive/folders/1EBiRPhoXG1JNPFQDTasVWiJJI2LV6B-Y?usp=drive_link) folder of the [msepCharacterization data files](https://drive.google.com/drive/folders/1Oyyrrjl0ygswBak5gbybVLYf5ENGUHD4?usp=sharing) directory.  

The dataset was trimmed to Mississippi Sound Watershed boundaries (using the `outline_full` object from the [`{msepBoundaries}` package](https://github.com/CMEP-MS/msepBoundaries)) using the script `Population_2020_subsetting.R` ([on github](https://github.com/CMEP-MS/msep_geospatialCharacterization/blob/main/R_preprocessing/Population_2020_subsetting.R)) in the `R_preprocessing` folder. 

The resulting file, `Population_Dasymetric_2020.tif`, is available in the [processed](https://drive.google.com/drive/folders/1vnTANkxh7lsAcTYFBr4sBuevKoYOGQG4?usp=drive_link) folder of the [msepCharacterization data files](https://drive.google.com/drive/folders/1Oyyrrjl0ygswBak5gbybVLYf5ENGUHD4?usp=sharing) directory.  
